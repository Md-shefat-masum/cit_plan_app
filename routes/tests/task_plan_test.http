### Variables
### NOTE: Token is automatically synced from token.txt
### To update: Run 'php routes/tests/update_token.php' or use VS Code task "Update Token in HTTP Test Files"
@baseUrl = http://localhost:8000
@apiUrl = {{baseUrl}}/api/v1/management/task-management/task-plan
@token = 

GET {{apiUrl}}?paginate=10&page=1
Authorization: Bearer {{token}}
Content-Type: application/json

### Get all task plans with search filter
GET {{apiUrl}}?search=
Authorization: Bearer {{token}}
Content-Type: application/json

### Get all task plans with status filter
GET {{apiUrl}}?status=1
Authorization: Bearer {{token}}
Content-Type: application/json

### Get a specific task plan by ID
GET {{apiUrl}}/1
Authorization: Bearer {{token}}
Content-Type: application/json

### Create a new task plan (Store) - si auto-generated
POST {{apiUrl}}/store
Authorization: Bearer {{token}}
Content-Type: application/json

{
    "department_id": 1,
    "department_section_id": 1,
    "department_sub_section_id": 1,
    "dofa_id": 1,
    "description": "Sample task plan description",
    "qty": 10,
    "task_type_id": 1,
    "task_status_id": 1,
    "status": 1
}

### Update a task plan
POST {{apiUrl}}/update
Authorization: Bearer {{token}}
Content-Type: application/json

{
    "id": 1,
    "department_id": 1,
    "description": "Updated description",
    "qty": 20,
    "status": 1
}

### Soft delete a task plan
POST {{apiUrl}}/soft-delete
Authorization: Bearer {{token}}
Content-Type: application/json

{
    "id": 1
}

### Restore a task plan
POST {{apiUrl}}/restore
Authorization: Bearer {{token}}
Content-Type: application/json

{
    "id": 1
}

### Permanently delete a task plan (Destroy)
POST {{apiUrl}}/destroy
Authorization: Bearer {{token}}
Content-Type: application/json

{
    "id": 1
}

### Import task plans
POST {{apiUrl}}/import
Authorization: Bearer {{token}}
Content-Type: application/json

{
    "data": [
        {"department_id": 1, "description": "Imported plan 1", "qty": 5, "status": 1},
        {"department_id": 1, "description": "Imported plan 2", "qty": 3, "status": 1}
    ]
}

### Get analytics
GET {{apiUrl}}/analytics
Authorization: Bearer {{token}}
Content-Type: application/json
